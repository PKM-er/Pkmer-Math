import{_ as e,c as i,b as o,o as r}from"./app-DjVwfCP4.js";const n={};function d(s,t){return r(),i("div",null,[...t[0]||(t[0]=[o('<p>由于仓库使用<code>.gitignore</code>管理忽略文件, 并且<code>.gitignore</code>文件本身参与了同步, 会出现一种比较危险的情况:</p><ul><li>你配置了<code>.gitignore</code>, 使得配置文件夹如<code>.obsidian</code>不参与git追踪</li><li>当你想查看历史提交记录时, 你checkout切换了分支</li><li><strong>这时, 你会惊奇地发现, 你的配置文件没有了</strong></li><li>哪怕切换回main分支, 没有参与git追踪的所有文件都不会回来了.</li></ul><blockquote><p>Git 认为工作区只是 <em>当前提交的快照副本</em>。任何不在快照里的东西，它都会删得干干净净——除非你把该文件永久标记为“别碰我”（<code>skip-worktree</code>）或在另一个独立 worktree 查看历史。</p></blockquote><p>下面是GPT给出的一篇未验证正确性的方案.</p><hr><h3 id="o3" tabindex="-1">o3</h3><blockquote><p>给所有参与者的简单提醒 —— 什么时候会丢自定义配置，以及后果是什么。</p></blockquote><table><thead><tr><th>场景</th><th>会发生什么</th><th>后果</th></tr></thead><tbody><tr><td><strong>A. 直接 <code>git checkout &lt;旧提交&gt;</code></strong>（旧提交<strong>没有</strong>你的私有配置文件）</td><td>Git 把工作区还原到旧状态</td><td>本地自定义配置被<strong>删掉</strong>，下一次打开 Obsidian／IDE 全部重置</td></tr><tr><td><strong>B. 直接 <code>git checkout &lt;旧提交&gt;</code></strong>（旧提交<strong>曾经跟踪</strong>该文件，但后来被 <code>.gitignore</code>）</td><td>Git 提示 _“必须先清理工作区”_强制清理后才能切换</td><td>配置文件被<strong>覆盖 / 删除</strong></td></tr><tr><td><strong>C. 拉别人的分支并合并</strong>（对方误把配置文件加入提交）</td><td>合并时出现冲突或自动覆盖</td><td>你的配置被<strong>改动</strong>，可能启动报错</td></tr><tr><td><strong>D. Clone 新仓库忘记拷贝模板</strong></td><td>本地根本没有配置文件</td><td>插件和快捷键全部回到默认</td></tr></tbody></table><hr><h4 id="简单规避方法" tabindex="-1">简单规避方法</h4><ol><li><strong>配置文件永不进 Git</strong>：放 <code>.gitignore</code>，仓库只留 <code>config.example</code> 供复制。</li><li><strong>查看旧版本用 <code>git worktree add</code></strong>：单独目录看历史，主目录不受影响。</li><li><strong>主力开发者可给配置打 <code>skip-worktree</code></strong>：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> update-index</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --skip-worktree</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .obsidian/config.json</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ol><p>这样切任何分支都不会动到你的文件。</p><blockquote><p>记住：想看历史，不要在主工作区 <code>checkout</code>；<br> 真要切，先备份自己的配置。</p></blockquote>',13)])])}const c=e(n,[["render",d]]),g=JSON.parse('{"path":"/Other/%E8%AF%B4%E6%98%8E/%E5%90%8C%E6%AD%A5%E9%85%8D%E7%BD%AE%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9.html","title":"同步配置注意事项","lang":"zh-CN","frontmatter":{"tags":["数学"],"description":"由于仓库使用.gitignore管理忽略文件, 并且.gitignore文件本身参与了同步, 会出现一种比较危险的情况: 你配置了.gitignore, 使得配置文件夹如.obsidian不参与git追踪 当你想查看历史提交记录时, 你checkout切换了分支 这时, 你会惊奇地发现, 你的配置文件没有了 哪怕切换回main分支, 没有参与git追踪...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-10-20T10:27:46.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://PKM-er.github.io/Pkmer-Math/Other/%E8%AF%B4%E6%98%8E/%E5%90%8C%E6%AD%A5%E9%85%8D%E7%BD%AE%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9.html"}],["meta",{"property":"og:site_name","content":"Pkmer-Math"}],["meta",{"property":"og:description","content":"由于仓库使用.gitignore管理忽略文件, 并且.gitignore文件本身参与了同步, 会出现一种比较危险的情况: 你配置了.gitignore, 使得配置文件夹如.obsidian不参与git追踪 当你想查看历史提交记录时, 你checkout切换了分支 这时, 你会惊奇地发现, 你的配置文件没有了 哪怕切换回main分支, 没有参与git追踪..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-10-20T10:27:46.000Z"}],["meta",{"property":"article:tag","content":"数学"}],["meta",{"property":"article:modified_time","content":"2025-10-20T10:27:46.000Z"}]],"tag":["数学"]},"git":{"createdTime":1760956066000,"updatedTime":1760956066000,"contributors":[{"name":"Cyletix","username":"Cyletix","email":"1016120209@qq.com","commits":1,"url":"https://github.com/Cyletix"}]},"readingTime":{"minutes":1.82,"words":547},"filePathRelative":"Other/说明/同步配置注意事项.md","excerpt":"<p>由于仓库使用<code>.gitignore</code>管理忽略文件, 并且<code>.gitignore</code>文件本身参与了同步, 会出现一种比较危险的情况:</p>\\n<ul>\\n<li>你配置了<code>.gitignore</code>, 使得配置文件夹如<code>.obsidian</code>不参与git追踪</li>\\n<li>当你想查看历史提交记录时, 你checkout切换了分支</li>\\n<li><strong>这时, 你会惊奇地发现, 你的配置文件没有了</strong></li>\\n<li>哪怕切换回main分支, 没有参与git追踪的所有文件都不会回来了.</li>\\n</ul>","autoDesc":true,"bioChainData":{"outlink":[],"backlink":[],"localMap":{"nodes":[{"id":"Other/说明/同步配置注意事项.md","value":{"title":"同步配置注意事项","path":"Other/说明/同步配置注意事项.md","outlink":[],"backlink":[]}}],"links":[]}}}');export{c as comp,g as data};
